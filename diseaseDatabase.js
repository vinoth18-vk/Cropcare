export const diseaseDatabase = {
  "late_blight": {
    name: {
      en: "Late Blight",
      hi: "पछेती अंगमारी",
      ta: "தாமத கருகல்"
    },
    description: {
      en: "A serious disease caused by Phytophthora infestans affecting tomatoes and potatoes",
      hi: "फाइटोफ्थोरा इंफेस्टेंस के कारण होने वाली एक गंभीर बीमारी जो टमाटर और आलू को प्रभावित करती है",
      ta: "தக்காளி மற்றும் உருளைக்கிழங்கை பாதிக்கும் பைட்டோப்தோரா இன்பெஸ்டான்ஸ் என்ற பூஞ்சையால் ஏற்படும் கடுமையான நோய்"
    },
    symptoms: {
      en: [
        "Dark brown/black lesions on leaves",
        "White fuzzy growth on leaf undersides",
        "Yellowing around lesions",
        "Rapid spread during humid conditions",
        "Stem and fruit rot in severe cases"
      ],
      hi: [
        "पत्तियों पर गहरे भूरे/काले धब्बे",
        "पत्तियों की निचल�� सतह पर सफ़ेद रोमदार वृद्धि",
        "धब्बों के चारों ओर पीलापन",
        "नम परिस्थितियों में तीव्र फैलाव",
        "गंभीर मामलों में तना और फल सड़न"
      ],
      ta: [
        "இலைகளில் அடர் பழுப்பு/கருப்பு புண்கள்",
        "இலைகளின் அடிப்பகுதியில் வெள்ளை பஞ்சு போன்ற வளர்ச்சி",
        "புண்களை சுற்றி மஞ்சள் நிறம்",
        "ஈரப்பதமான சூழலில் விரைவாக பரவுதல்",
        "கடுமையான நிலையில் தண்டு மற்றும் கனி அழுகல்"
      ]
    },
    causes: {
      en: [
        "High humidity (>90%)",
        "Moderate temperatures (15-25°C)",
        "Poor air circulation",
        "Overhead watering",
        "Infected plant debris"
      ],
      hi: [
        "उच्च आर्द्रता (>90%)",
        "मध्यम तापमान (15-25°C)",
        "खराब हवा संचार",
        "ऊपर ��े पानी देना",
        "संक्रमित पौधे का मलबा"
      ],
      ta: [
        "அதிக ஈரப்பதம் (>90%)",
        "மிதமான வெப்பநிலை (15-25°C)",
        "மோசமான காற்று சுழற்சி",
        "தலைக்கு மேல் நீர் பாய்ச்சுதல்",
        "நோய் பாதிக்கப்பட்ட தாவர எச்சங்கள்"
      ]
    },
    treatment: {
      organic: {
        en: [
          "Remove affected plant parts immediately",
          "Apply neem oil spray",
          "Use baking soda solution (1 tsp/quart water)",
          "Copper-based organic fungicides",
          "Improve air circulation"
        ],
        hi: [
          "प्रभावित पौधे के हिस्सों को तुरंत हटाएं",
          "नीम तेल का छिड़काव करें",
          "बेकिंग सोडा का घोल उपयोग करें (1 चम्मच/लीटर पानी)",
          "तांबा आधारित जैविक कवकनाशी",
          "हवा का संचार सुधारें"
        ],
        ta: [
          "பாதிக்கப்பட்ட தாவர பாகங்களை உடனே அகற்றவும்",
          "வேப்ப எண்ணெய் தெளிக்கவும்",
          "பேக்கிங் சோடா கரைசல் பயன்படுத்தவும் (1 டீஸ்பூன்/லிட்டர் நீர்)",
          "செம்பு அடிப்படையிலான இயற்கை பூஞ்சைக்கொல்லிகள்",
          "காற்று சுழற்சியை மேம்படுத்தவும்"
        ]
      },
      chemical: {
        en: [
          "Mancozeb fungicide application",
          "Copper oxychloride spray",
          "Metalaxyl-based systemic fungicides",
          "Chlorothalonil application",
          "Rotate fungicide classes to prevent resistance"
        ],
        hi: [
          "मैंकोजेब कवकनाशी का उपयोग",
          "कॉपर ऑक्सीक्लोराइड का छिड़काव",
          "मेटालैक्सिल आधारित प्रणालीगत कवकनाशी",
          "क्लोरोथैलोनिल का उपयोग",
          "प्रतिरोध रोकने के लिए कवकनाशी वर्गों को बदलते रहें"
        ],
        ta: [
          "மன்கோசெப் பூஞ்சைக்கொல்லி பயன்பாடு",
          "கப்பர் ஆக்ஸிக்லோரைடு தெளிப்பு",
          "மெட்டலாக்சில் அடிப்படையிலான உள்ளார்ந்த பூஞ்சைக்கொல்லிகள்",
          "குளோரோத்தலோனில் பயன்பாடு",
          "எதிர்ப்பைத் தடுக்க பூஞ்சைக்கொல்லி வகைகளை மாற்றி பயன்படுத்தவும்"
        ]
      }
    },
    prevention: {
      en: [
        "Plant resistant varieties",
        "Ensure proper plant spacing",
        "Avoid overhead irrigation",
        "Mulch around plants",
        "Crop rotation with non-susceptible crops",
        "Regular field monitoring"
      ],
      hi: [
        "प्रतिरोधी किस्मों को लगाएं",
        "उचित पौधों की दूरी सुनिश्चित करें",
        "ऊपर से सिंचाई से बचें",
        "पौधों के चारों ओर मल्चिंग करें",
        "गैर-संवेदनशील फसलों के साथ फसल चक्र",
        "नियमित खेत निगरानी"
      ],
      ta: [
        "எதிர்ப்பு சக்தி உள்ள ரகங்களை நடவும்",
        "சரியான செடி இடைவெளி உறுதிப்படுத்தவும்",
        "தலைக்கு மேல் நீர்ப்பாசனம் தவிர்க்கவும்",
        "செடிகளை சுற்றி மல்ச் போடவும்",
        "பாதிக்காத பயிர்களுடன் பயிர் சுழற்சி",
        "வழக்கமான வயல் கண்காணிப்பு"
      ]
    },
    severity: "high",
    affectedCrops: ["tomato", "potato", "pepper"],
    seasonality: ["monsoon", "winter"],
    weatherRisk: {
      temperature: { min: 15, max: 25 },
      humidity: { min: 90, max: 100 },
      rainfall: "high"
    }
  },

  "powdery_mildew": {
    name: {
      en: "Powdery Mildew",
      hi: "चूर्णिल आसिता",
      ta: "பொடி பூஞ்சை"
    },
    description: {
      en: "Fungal disease causing white powdery spots on leaves and stems",
      hi: "कवक रोग जो पत्तियों और तनों पर सफ़ेद चूर्णिल धब्बे बनाता है",
      ta: "இலைகள் மற்றும் தண்டுகளில் வெள்ளை பொடி போன்ற புள்ளிகளை ஏற்படுத்தும் பூஞ்சை நோய்"
    },
    symptoms: {
      en: [
        "White powdery coating on leaves",
        "Yellowing and curling of leaves",
        "Stunted plant growth",
        "Reduced flower and fruit production",
        "Distorted leaf shapes"
      ],
      hi: [
        "पत्तियों पर सफ़ेद चूर्णिल आवरण",
        "पत्तियों का पीला होना और मुड़ना",
        "पौधे की वृद्धि रुकना",
        "फूल और फल उत्पादन में कमी",
        "पत्तियों का आकार बिगड़ना"
      ],
      ta: [
        "இலைகளில் வெள்ளை பொடி போன்ற மூடுதல்",
        "இலைகள் மஞ்சளாதல் மற்றும் சுருளுதல்",
        "தாவர வளர்ச்சி தடைபடுதல்",
        "பூ மற்றும் கனி உற்பத்தி குறைதல்",
        "இலை வடிவம் சிதைதல்"
      ]
    },
    causes: {
      en: [
        "High humidity with poor air circulation",
        "Moderate temperatures (20-30°C)",
        "Overcrowded plantings",
        "Excessive nitrogen fertilization",
        "Stressed plants"
      ],
      hi: [
        "खराब हवा संचार के साथ उच्च आर्द्रता",
        "मध्यम तापमान (20-30°C)",
        "पौधों की भीड़भाड़",
        "अत्यधिक नाइट्रोजन उर्वरीकरण",
        "तनावग्रस्त पौधे"
      ],
      ta: [
        "மோசமான காற்று சுழற்சியுடன் அதிக ஈரப்பதம்",
        "மிதமான வெப்பநிலை (20-30°C)",
        "செடிகளின் நெருக்கம்",
        "அதிகப்படியான நைட்ரஜன் உரமிடுதல்",
        "அழுத்தத்தில் உள்ள தாவரங்கள்"
      ]
    },
    treatment: {
      organic: {
        en: [
          "Spray with baking soda solution",
          "Apply neem oil treatment",
          "Use milk spray (1:10 ratio with water)",
          "Sulfur-based organic fungicides",
          "Remove affected plant parts"
        ],
        hi: [
          "बेकिंग सोडा के घोल का छिड़काव करें",
          "नीम तेल का उपचार लागू करें",
          "दूध का छिड़काव करें (पानी के साथ 1:10 अनुपात)",
          "सल्फर आधारित जैविक कवकनाशी",
          "प्रभावित पौधे के हिस्सों को हटाएं"
        ],
        ta: [
          "பேக்கிங் சோடா கரைசல் தெளிக்கவும்",
          "வேப்ப எண்ணெய் சிகிச்சை அளிக்கவும்",
          "பால் தெளிப்பு பயன்படுத்தவும் (நீருடன் 1:10 விகிதம்)",
          "கந்தக அடிப்படையிலான இயற்கை பூஞ்சைக்கொல்லிகள்",
          "பாதிக்கப்பட்ட தாவர பாகங்களை அகற்றவும்"
        ]
      },
      chemical: {
        en: [
          "Propiconazole fungicide",
          "Myclobutanil application",
          "Tebuconazole spray",
          "Trifloxystrobin treatment",
          "Systemic fungicide rotation"
        ],
        hi: [
          "प्रोपिकोनाजोल कवकनाशी",
          "माइक्लोब्यूटानिल का उपयोग",
          "टेब्यूकोनाजोल का छिड़काव",
          "ट्राइफ्लॉक्सीस्ट्रोबिन उपचार",
          "प्रणालीगत कवकनाशी का चक्रण"
        ],
        ta: [
          "ப்ரோபிகோனசோல் பூஞ்சைக்கொல்லி",
          "மைக்லோபுட்டானில் பயன்பாடு",
          "டெபுகோனசோல் தெளிப்பு",
          "ட்ரிஃப்ளாக்ஸிஸ்ட்ரோபின் சிகிச்சை",
          "உள்ளார்ந்த பூஞ்சைக்கொல்லி சுழற்சி"
        ]
      }
    },
    prevention: {
      en: [
        "Improve air circulation between plants",
        "Avoid overhead watering",
        "Plant resistant varieties",
        "Proper plant spacing",
        "Regular monitoring and early detection"
      ],
      hi: [
        "पौधों के बीच हवा का संचार सुधारें",
        "ऊपर से पानी देने से बचें",
        "प्रतिरोधी किस्मों को लगाएं",
        "उचित पौधों की दूरी",
        "नियमित निगरानी और शीघ्र पहचान"
      ],
      ta: [
        "செடிகளுக்கு இடையே காற்று சுழற்சியை மேம்படுத்தவும்",
        "தலைக்கு மேல் நீர் பாய்ச்சுவதை தவிர்க்கவும்",
        "எதிர்ப்பு சக்தி உள்ள ரகங்களை நடவும்",
        "சரியான செடி இடைவெளி",
        "வழக்கமான கண்காணிப்பு மற்றும் முன்கூட்டிய கண்டறிதல்"
      ]
    },
    severity: "medium",
    affectedCrops: ["cucumber", "pumpkin", "grape", "rose"],
    seasonality: ["spring", "autumn"],
    weatherRisk: {
      temperature: { min: 20, max: 30 },
      humidity: { min: 50, max: 80 },
      rainfall: "moderate"
    }
  },

  "bacterial_blight": {
    name: {
      en: "Bacterial Blight",
      hi: "जीवाणु अंगमारी",
      ta: "பாக்டீரியா கருகல்"
    },
    description: {
      en: "Bacterial infection causing leaf spots and plant wilting",
      hi: "जीवाणु संक्रमण जो पत्ती के धब्बे और पौधे का मुरझाना का कारण बनता है",
      ta: "இலை புள்ளிகள் மற்றும் தாவர வாடல் ஏற்படுத்தும் பாக்டீரியா தொற்று"
    },
    symptoms: {
      en: [
        "Water-soaked spots on leaves",
        "Brown or black lesions with yellow halos",
        "Wilting of branches",
        "Bacterial ooze from infected areas",
        "Premature leaf drop"
      ],
      hi: [
        "पत्तियों पर पानी से भीगे हुए धब्बे",
        "पीले घेरे के साथ भूरे या काले घाव",
        "शाखाओं का मुरझाना",
        "संक्रमित क्षेत्रों से बैक्टीरियल रिसाव",
        "समय से पहले पत्ती गिरना"
      ],
      ta: [
        "இலைகளில் நீரில் நனைந்த புள்ளிகள்",
        "மஞ்சள் வளையங்களுடன் பழுப்பு அல்லது கருப்பு புண்கள்",
        "கிளைகள் வாடுதல்",
        "பாதிக்கப்பட்ட பகுதிகளில் இருந்து பாக்டீரியா கசிவு",
        "முன்கூட்டிய இலை உதிர்வு"
      ]
    },
    causes: {
      en: [
        "High humidity and temperature",
        "Wounds from insects or pruning",
        "Contaminated tools and equipment",
        "Splashing water from irrigation",
        "Infected plant debris"
      ],
      hi: [
        "उच्च आर्द्रता और तापमान",
        "कीड़ों या छंटाई से घाव",
        "दूषित उपकरण और सामग्री",
        "सिंचाई से पानी का छींटा",
        "संक्रमित पौधे का मलबा"
      ],
      ta: [
        "அதிக ஈரப்பதம் மற்றும் வெப்பநிலை",
        "பூச்சிகள் அல்லது கத்தரிப்பு காயங்கள்",
        "மாசுபட்ட கருவிகள் மற்றும் உபகரணங்கள்",
        "பாசனத்தில் இருந்து நீர் தெறித்தல்",
        "நோய் பாதிக்கப்பட்ட தாவர எச்சங்கள்"
      ]
    },
    treatment: {
      organic: {
        en: [
          "Remove infected plant parts",
          "Apply copper-based bactericides",
          "Use plant-based antimicrobials",
          "Improve drainage and air circulation",
          "Disinfect tools regularly"
        ],
        hi: [
          "संक्रमित पौधे के हिस्सों को हटाएं",
          "तांबा आधारित जीवाणुनाशी लगाएं",
          "पौधे आधारित रोगाणुरोधी का उपयोग करें",
          "जल निकासी और हवा संचार में सुधार करें",
          "उपकरणों को नियमित रूप से कीटाणुरहित करें"
        ],
        ta: [
          "நோய் பாதிக்கப்பட்ட தாவர பாகங்களை அகற்றவும்",
          "செம்பு அடிப்படையிலான பாக்டீரியா கொல்லிகளை பயன்படுத்தவும்",
          "தாவர அடிப்படையிலான நுண்ணுயிர் எதிர்ப்பிகளை பயன்படுத்தவும்",
          "வடிகால் மற்றும் காற்று சுழற்சியை மேம்படுத்தவும்",
          "கருவிகளை வழக்கமாக கிருமி நீக்கம் செய்யவும்"
        ]
      },
      chemical: {
        en: [
          "Copper sulfate spray",
          "Streptomycin application",
          "Copper hydroxide treatment",
          "Oxytetracycline injection",
          "Bacteriophage therapy"
        ],
        hi: [
          "कॉपर सल्फेट का छिड़काव",
          "स्ट्रेप्टोमाइसिन का उपयोग",
          "कॉपर हाइड्रॉक्साइड उपचार",
          "ऑक्सीटेट्रासाइक्लिन का इंजेक्शन",
          "बैक्टीरियोफेज थेरेपी"
        ],
        ta: [
          "கப்பர் சல்பேட் தெளிப்பு",
          "ஸ்ட்ரெப்டோமைசின் பயன்பாடு",
          "கப்பர் ஹைட்ராக்சைடு சிகிச்சை",
          "ஆக்ஸிடெட்ராசைக்ளின் ஊசி",
          "பாக்டீரியோபேஜ் சிகிச்சை"
        ]
      }
    },
    prevention: {
      en: [
        "Plant disease-free seeds",
        "Maintain proper plant spacing",
        "Avoid overhead irrigation",
        "Sanitize pruning tools",
        "Crop rotation practices"
      ],
      hi: [
        "रोग मुक्त बीज लगाएं",
        "उचित पौधों की दूरी बनाए रखें",
        "ऊपर से सिंचाई से बचें",
        "छंटाई उपकरणों को साफ करें",
        "फसल चक्र प्रथाओं का पालन करें"
      ],
      ta: [
        "நோயற்ற விதைகளை நடவும்",
        "சரியான செடி இடைவெளி பராமரிக்கவும்",
        "தலைக்கு மேல் பாசனம் தவிர்க்கவும்",
        "கத்தரிப்பு கருவிகளை சுத்தப்படுத்தவும்",
        "பயிர் சுழற்சி முறைகளை பின்பற்றவும்"
      ]
    },
    severity: "high",
    affectedCrops: ["rice", "cotton", "citrus", "beans"],
    seasonality: ["monsoon", "summer"],
    weatherRisk: {
      temperature: { min: 25, max: 35 },
      humidity: { min: 80, max: 95 },
      rainfall: "high"
    }
  },

  "healthy": {
    name: {
      en: "Healthy Plant",
      hi: "स्वस्थ पौधा",
      ta: "ஆரோக்கியமான தாவரம்"
    },
    description: {
      en: "Plant shows no signs of disease and appears healthy",
      hi: "पौधे में कोई बीमारी के लक्षण नहीं हैं और यह स्वस्थ दिखता है",
      ta: "தாவரத்தில் எந்த நோய் அறிகுறிகளும் இல்லை மற்றும் ஆரోக்கியமாக தெரிகிறது"
    },
    recommendations: {
      en: [
        "Continue current care routine",
        "Monitor regularly for early disease detection",
        "Maintain proper nutrition",
        "Ensure adequate water supply",
        "Keep up preventive measures"
      ],
      hi: [
        "वर्तमान देखभाल दिनचर्या जारी रखें",
        "रोग की शीघ्र पहचान के लिए नियमित निगरानी करें",
        "उचित पोषण बनाए रखें",
        "पर्याप्त पानी की आपूर्ति सुनिश्चित करें",
        "रोकथाम के उपाय जारी रखें"
      ],
      ta: [
        "தற்போதைய பராமரிப்பு முறையை தொடரவும்",
        "முன்கூட்டிய நோய் கண்டறிதலுக்காக வழக்கமாக கண்காணிக்கவும்",
        "சரியான ஊட்டச்சத்தை பராமரிக்கவும்",
        "போதுமான நீர் வழங்கலை உறுதிப்படுத்தவும்",
        "தடுப்பு நடவடிக்கைகளை தொடரவும்"
      ]
    }
  }
};

export const getCropDiseases = (crop) => {
  const cropDiseaseMap = {
    tomato: ['late_blight', 'powdery_mildew', 'bacterial_blight'],
    potato: ['late_blight', 'bacterial_blight'],
    rice: ['bacterial_blight'],
    cotton: ['bacterial_blight'],
    cucumber: ['powdery_mildew'],
    grape: ['powdery_mildew']
  };
  
  return cropDiseaseMap[crop?.toLowerCase()] || Object.keys(diseaseDatabase);
};

export const getWeatherRiskLevel = (weather, disease) => {
  const diseaseInfo = diseaseDatabase[disease];
  if (!diseaseInfo || !diseaseInfo.weatherRisk) return 'low';
  
  const { temperature, humidity, rainfall } = diseaseInfo.weatherRisk;
  let riskScore = 0;
  
  // Temperature risk
  if (weather.temperature >= temperature.min && weather.temperature <= temperature.max) {
    riskScore += 3;
  } else if (Math.abs(weather.temperature - temperature.min) <= 5 || 
             Math.abs(weather.temperature - temperature.max) <= 5) {
    riskScore += 1;
  }
  
  // Humidity risk
  if (weather.humidity >= humidity.min && weather.humidity <= humidity.max) {
    riskScore += 3;
  } else if (Math.abs(weather.humidity - humidity.min) <= 10 || 
             Math.abs(weather.humidity - humidity.max) <= 10) {
    riskScore += 1;
  }
  
  // Rainfall risk
  if ((rainfall === 'high' && weather.rainfall > 10) ||
      (rainfall === 'moderate' && weather.rainfall > 5 && weather.rainfall <= 15) ||
      (rainfall === 'low' && weather.rainfall <= 5)) {
    riskScore += 2;
  }
  
  if (riskScore >= 6) return 'high';
  if (riskScore >= 3) return 'medium';
  return 'low';
};